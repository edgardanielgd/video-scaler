#!/bin/bash

echo "Running for 1 processes" >> $4
mpirun -np 1 -H 172.31.22.155 $1 $2 $3 >> $4
echo "Running for 2 processes" >> $4
mpirun -np 2 -H 172.31.22.155,172.31.22.65 $1 $2 $3 >> $4
echo "Running for 3 processes" >> $4
mpirun -np 3 -H 172.31.22.155,172.31.22.65,172.31.22.74 $1 $2 $3 >> $4
echo "Running for 4 processes" >> $4
mpirun -np 4 -H 172.31.22.155,172.31.22.65,172.31.22.74,172.31.29.7 $1 $2 $3 >> $4
echo "Running for 5 processes" >> $4
mpirun -np 5 -H 172.31.22.155,172.31.22.65,172.31.22.74,172.31.29.7,172.31.16.234 $1 $2 $3 >> $4
echo "Running for 6 processes" >> $4
mpirun -np 6 -H 172.31.22.155,172.31.22.65,172.31.22.74,172.31.29.7,172.31.16.234,172.31.18.8 $1 $2 $3 >> $4
echo "Running for 7 processes" >> $4
mpirun -np 7 -H 172.31.22.155,172.31.22.65,172.31.22.74,172.31.29.7,172.31.16.234,172.31.18.8,172.31.22.78 $1 $2 $3 >> $4
echo "Running for 8 processes" >> $4
mpirun -np 8 -H 172.31.22.155,172.31.22.65,172.31.22.74,172.31.29.7,172.31.16.234,172.31.18.8,172.31.22.78,172.31.24.22 $1 $2 $3 >> $4